---
title: 多天线技术
tags:
  - MIMO
  - 矩阵的秩
  - 波束赋形
  - 线性代数
  - 信道
categories: 通信
mathjax: true
abbrlink: 7a074139
date: 2024-03-16 23:11:35
---

# 多天线技术

单发射天线单接收天线之间的信道容量受限于香农公式，
$$
C = B\log_2(1+\dfrac{S}{N})
$$


要想在相同频谱带宽下进一步提高信道容量，需要采用多天线技术。

## MIMO信道建模

考虑一种极端情况，使用$N$对天线发送和接收，并且每对收发天线和其它天线离得足够远（即Tx1与Tx2足够远，Rx1与Rx2足够远……）几对天线之间互不相干，那么容量就可以提高$N$倍。实际上，受限于天线的尺寸，两对天线的距离不可能足够远，而且终端尺寸很小，天线间的距离也就很小。

以双入双出的系统为例，其中$h_{mn}$为信道增益，$s_m$为发送的基带数据，$y_n$为接收的基带数据（用复数形式表示为$IQ$数据）那么四条传输信道的信道增益如下表

| 接收-发射天线 | 信道增益 |
| :-----------: | :------: |
|    Rx1-Tx1    | $h_{11}$ |
|    Rx1-Tx2    | $h_{12}$ |
|    Rx2-Tx1    | $h_{21}$ |
|    Rx2-Tx2    | $h_{22}$ |

假设两个发射天线发出的基带数据分别为$s_1$和$s_2$，那么接收端接收到的基带数据为
$$
\begin{aligned}
y_1 = s_1 h_{11} + s_2 h_{12}\\
y_2 = s_1 h_{21} + s_2 h_{22}\\
\end{aligned}
,
\begin{bmatrix}
y_1\\y_2
\end{bmatrix}
=
\begin{bmatrix}
h_{11} & h_{12}\\
h_{21} & h_{22}\\
\end{bmatrix}
\cdot
\begin{bmatrix}
s_1\\s_2
\end{bmatrix}
$$
输入和输出基带数据构成矩阵$S$和$Y$，信道增益构成矩阵$H$，则有$Y=HS$[^1]

### 天线间距非常大

天线间距足够大，相当于用射频电缆将$N$对收发天线直连起来，让接收天线n只能接收来自于发射天线n的信号，即
$$
\left\{
\begin{aligned}
h_{mn} \not=0, m = n\\
h_{mn} = 0, m\not= n
\end{aligned}
\right.
$$
在已知输出基带数据和信道增益的情况下，很容易得到输入基带信号$s_{n_t} = y_{n_r}/h_{n_rn_t}$，即
$$
\begin{bmatrix}
s_1\\s_2\\\vdots\\s_{n_t}
\end{bmatrix}
=
\begin{bmatrix}
1/h_{11} & 0 & \cdots & 0\\
0 & 1/h_{22} & \cdots & 0\\
\vdots & \vdots & & \vdots\\
0 & 0 & \cdots & 1/h_{n_rn_t}\\
\end{bmatrix}
\cdots
\begin{bmatrix}
y_1\\y_2\\\vdots\\y_{n_r}
\end{bmatrix}
$$

### 天线间距非常小

由于接收天线之间的间距非常小，同一发射天线到所有接收天线的信道增益是相同的，即
$$
\left\{
\begin{aligned}
h_{11} = h_{21} = &\cdots = h_{n_r1} = h_1\\
h_{12} = h_{22} = &\cdots = h_{n_r2} = h_2\\
&\vdots\\
h_{1n_t} = h_{2n_t} = &\cdots = h_{n_rn_t} = h_{n_t}\\
\end{aligned}
\right.
$$


得到的信道增益矩阵每一列都是相同的，得到
$$
y_{n_r} = s_1h_1+s_2h_2+\cdots+s_{n_t}h_{n_t}
$$


同理，如果发射天线的间距非常小，则信道增益矩阵的每一行相同，得到
$$
\dfrac{y_1}{h_1} = \dfrac{y_2}{h_2} = \cdots = \dfrac{y_{n_r}}{h_{n_r}} = (s_1+s_2+\cdots+s_{n_t})
$$
但是都无法解出基带数据$s_n$.

### 并行传输能力

极端情况下

- 收发天线距离非常大：并行传输$n$路数据；
- 收发天线距离非常小：传输$1$路数据；

一般情况下，先根据MIMO系统输出基带数据与**未知量**输入基带数据和信道增益的关系列出方程组
$$
\left\{
\begin{aligned}
y_1 &= h_{11}s_1+h_{12}s_2+\cdots+h_{1n_t}s_{n_t}\\
y_2 &= h_{21}s_1+h_{22}s_2+\cdots+h_{2n_t}s_{n_t}\\
&\vdots\\
y_{n_r} &= h_{n_r1}s_1+h_{n_r2}s_2+\cdots+h_{n_rn_t}s_{n_t}\\
\end{aligned}
\right.
$$
系统能够并行传输$m$路数据，也就是能通过方程组解出$m$个未知量（输入基带数据）。**方程组解的个数可以通过计算系数矩阵（信道增益矩阵）的秩得到**，因此对于有$n_t$根发射天线、$n_r$根接收天线的MIMO系统，信道增益矩阵的秩**最大**为$r = min\{n_t,n_r\}$，最多可以并行传输$r$路数据。

### 空间复用和发送分集

- **空间复用(SM)**：如果信道增益矩阵的秩大于1，可以并行发送多路不同的数据，可以提高数据的吞吐量；
- **发送分集(TD)**：接收机只有一根接收天线，发射机并行发送多路相同的数据，可以提高数据传输的可靠性；

## 参考资料

1. 陈爱军. 深入浅出通信原理[M]. 北京: 清华大学出版社, 2017.

[^1]: 信道增益矩阵行数=接收天线个数，列数=发送天线个数
